<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>不学习会被杀掉的！ - 杀不死的终将使你强大！</title><meta name="author" content="章志成"><meta name="copyright" content="章志成"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="不学习会被杀掉的！">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="不学习会被杀掉的！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/tx2.jpg">
<meta property="article:author" content="章志成">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/tx2.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/page/4/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-05-15 18:36:51'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/tx2.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-messageboard"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://s2.loli.net/2022/01/04/miyHDJcY6S9Nqk7.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">不学习会被杀掉的！</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-messageboard"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">不学习会被杀掉的！</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/cooper12138" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:994739211@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/31/Java%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="Java性能优化">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-6oj73l.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能优化"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/31/Java%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="Java性能优化">Java性能优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-31T08:44:02.000Z" title="发表于 2021-01-31 16:44:02">2021-01-31</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">性能优化</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java%E9%AB%98%E7%BA%A7/">java高级</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/01/31/Java%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/01/31/Java%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">性能优化，有哪些衡量指标？需要注意什么？性能，就是使用有限的资源在有限的时间内完成工作。最主要的衡量因素就是时间。

吞吐量和响应速度QPS 代表每秒查询的数量，TPS 代表每秒事务的数量，HPS 代表每秒的 HTTP 请求数量等，这都是常用的与吞吐量相关的量化指标。
响应时间衡量平均响应时间：AVG  所有的请求耗时加起来，然后除以请求的次数。
百分位数：TP 值  和中位数、平均数等是类似的
并发量指系统同时能处理的请求数量，这个指标反映了系统的负载能力。

复用优化缓冲和缓存
缓冲（Buffer），常见于对数据的暂存，然后批量传输或者写入。多使用顺序方式，用来缓解不同设备之间频繁地、缓慢地随机写，缓冲主要针对的是写操作。
缓存（Cache），常见于对已读取数据的复用，通过将它们缓存在相对高速的区域，缓存主要针对的是读操作。
对于对象的池化操作 ，比如数据库连接池、线程池等。由于这些对象的创建和销毁成本都比较大，我们在使用之后，也会将这部分对象暂时存储，下次用的时候，就不用再走一遍耗时的初始化操作了。
计算优化</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/18/%E4%BB%80%E4%B9%88%E6%98%AFELK%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F/" title="什么是ELK日志系统">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-39em6d.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是ELK日志系统"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/18/%E4%BB%80%E4%B9%88%E6%98%AFELK%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F/" title="什么是ELK日志系统">什么是ELK日志系统</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-18T14:22:17.000Z" title="发表于 2021-01-18 22:22:17">2021-01-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/01/18/%E4%BB%80%E4%B9%88%E6%98%AFELK%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/01/18/%E4%BB%80%E4%B9%88%E6%98%AFELK%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">ELKElasticsearch、Logstash 和 Kiabana组成一个日志分析平台 。
Elasticsearch分布式的 Restful 风格的搜索和数据分析引擎。
Logstash收集服务器日志，具有实时管道功能，可以动态地将来自不同数据源的数据统一起来，并将数据标准化到您所选择的目的地。

输入
过滤器
输出

Kibana数据面板。
ELK工作流程

ELK 平台搭建Elasticsearch安装
下载Elasticsearch 7.6.2的docker镜像：

1docker pull elasticsearch:7.6.2


修改虚拟内存区域大小，否则会因为过小而无法启动:

1sysctl -w vm.max_map_count=262144


使用如下命令启动Elasticsearch服务：

123456docker run -p 9200:9200 -p 9300:9300 --name elasticsearch \-e &quot;discovery.type=single-node&quot; \-e &quot;cluster.name=elas ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/11/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/" title="深入理解java虚拟机">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-28y1kx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="深入理解java虚拟机"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/11/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/" title="深入理解java虚拟机">深入理解java虚拟机</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-11T14:31:05.000Z" title="发表于 2021-01-11 22:31:05">2021-01-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/JVM/">JVM</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/JVM/">JVM</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/01/11/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/01/11/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">JVM内存管理JVM 内存布局

JVM 堆中的数据是共享的，是占用内存最大的一块区域。


可以执行字节码的模块叫作执行引擎。


执行引擎在线程切换时怎么恢复？依靠的就是程序计数器。


JVM 的内存划分与多线程是息息相关的。像我们程序中运行时用到的栈，以及本地方法栈，它们的维度都是线程。


本地内存包含元数据区和一些直接内存。

虚拟机栈在每个 Java 方法被调用的时候，都会创建一个栈帧，并入栈。
一旦完成相应的调用，则出栈。所有的栈帧都出栈后，线程也就结束了。每个栈帧，都包含四个区域：

局部变量表


操作数栈


动态连接


返回地址

本地方法栈是和虚拟机栈非常相似的一个区域，它服务的对象是 native 方法。
程序计数器存的，就是当前线程执行的进度
还存储了当前正在运行的流程，包括正在执行的指令、跳转、分支、循环、异常处理等。
堆是 JVM 上最大的内存区域
存储对象
垃圾回收，操作的对象就是堆。
随着对象的频繁创建，堆空间占用的越来越多，就需要不定期的对不再使用的对象进行回收。这个在 Java 中，就叫作 GC（Garbage Collection）
对象创 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/08/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87idea%E6%93%8D%E4%BD%9C/" title="开发必备idea操作">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/one.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="开发必备idea操作"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/08/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87idea%E6%93%8D%E4%BD%9C/" title="开发必备idea操作">开发必备idea操作</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-08T01:52:16.000Z" title="发表于 2021-01-08 09:52:16">2021-01-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/01/08/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87idea%E6%93%8D%E4%BD%9C/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/01/08/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87idea%E6%93%8D%E4%BD%9C/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">idea神操作Ctrl


快捷键
介绍



Ctrl + Y
删除光标所在行 或 删除选中的行 （必备）


Ctrl + D
复制光标所在行 或 复制选择内容，并把复制内容插入光标位置下面 （必备）


Ctrl + W
递进式选择代码块。可选中光标所在的单词或段落，连续按会在原有选中的基础上再扩展选中范围 （必备）


Ctrl + E
显示最近打开的文件记录列表


Ctrl + N
根据输入的 类名 查找类文件


Ctrl + Q
光标所在的变量 / 类名 / 方法名等上面（也可以在提示补充的时候按），显示文档内容


Ctrl + U
前往当前光标所在的方法的父类的方法 / 接口定义


Ctrl + B
进入光标所在的方法/变量的接口或是定义出，等效于 Ctrl + 左键单击


Ctrl + K
版本控制提交项目，需要此项目有加入到版本控制才可用


Ctrl + T
版本控制更新项目，需要此项目有加入到版本控制才可用


Ctrl + H
显示当前类的层次结构


Ctrl + O
选择可重写的方法


Ctrl + I
选择可继承的方法


Ctrl + +
展 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/07/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87linux%E5%91%BD%E4%BB%A4/" title="开发必备linux命令">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-28kdom.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="开发必备linux命令"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/07/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87linux%E5%91%BD%E4%BB%A4/" title="开发必备linux命令">开发必备linux命令</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-07T13:04:50.000Z" title="发表于 2021-01-07 21:04:50">2021-01-07</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2021/01/07/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87linux%E5%91%BD%E4%BB%A4/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/01/07/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87linux%E5%91%BD%E4%BB%A4/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">常用命令(含docker/mysql)
find   

ls   ls -lh： 显示MB ，ls -ltr：  按时间升序，ls -F：  显示文件类型

pwd

cd

mkdir   mkdir -p: 创建路径文件夹

df         df -h：显示磁盘使用量

rm        rm -r ：遍历删除

mv       

cp           拷贝

scp         传输                           scp -r  /usr/bak   &#x72;&#111;&#x6f;&#116;&#x40;&#49;&#x39;&#x32;&#x2e;&#x31;&#54;&#x38;&#46;&#x37;&#55;&#x2e;&#x37;&#x35;:/opt/bak

rsync      快一点的传输           rsync  -avzP  /usr/bak   &#114;&#111;&#111;&#x74;&#x40;&#x31;&#57;&#x32;&#x2e;&#x31;&#54;&#56;&#x2e;&#55 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/12/14/Transactional%E5%A4%B1%E6%95%88%E5%9C%BA%E6%99%AF/" title="Transactional失效场景">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72g333.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Transactional失效场景"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/14/Transactional%E5%A4%B1%E6%95%88%E5%9C%BA%E6%99%AF/" title="Transactional失效场景">Transactional失效场景</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-12-14T11:27:42.000Z" title="发表于 2020-12-14 19:27:42">2020-12-14</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2020/12/14/Transactional%E5%A4%B1%E6%95%88%E5%9C%BA%E6%99%AF/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2020/12/14/Transactional%E5%A4%B1%E6%95%88%E5%9C%BA%E6%99%AF/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">@Transactional 注解
它能保证方法内多个数据库操作要么同时成功、要么同时失败。
一、事务主要分为编程式事务和声明式事务两种。
编程式事务：是指在代码中手动的管理事务的提交、回滚等操作，代码侵入性比较强，如下示例：
1234567try &#123;    &#x2F;&#x2F;TODO something     transactionManager.commit(status);&#125; catch (Exception e) &#123;    transactionManager.rollback(status);    thrownew InvoiceApplyException(&quot;异常失败&quot;);&#125;

声明式事务：基于AOP面向切面的，它将具体业务与事务处理部分解耦，代码侵入性很低，所以在实际开发中声明式事务用的比较多。声明式事务也有两种实现方式，一是基于TX和AOP的xml配置文件方式，二种就是基于@Transactional 注解了。
123456@Transactional    @GetMapping(&quot;&#x ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/27/hexo%E6%90%AD%E5%BB%BA/" title="hexo搭建">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-6oj73l.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo搭建"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/hexo%E6%90%AD%E5%BB%BA/" title="hexo搭建">hexo搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T15:31:18.000Z" title="发表于 2020-11-27 23:31:18">2020-11-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2020/11/27/hexo%E6%90%AD%E5%BB%BA/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2020/11/27/hexo%E6%90%AD%E5%BB%BA/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">Hexo搭建
1、安装Node.js 官网：https://nodejs.org/zh-cn/
​    建议使用 Node.js 10.0 及以上版本，最新版本貌似和hexo5有冲突。
​    一路next傻瓜操作
2、安装hexocmd输入
1npm install -g hexo-cli

3、建站Github Page配置参见官网：https://pages.github.com/
记得本地hexo仓库要关联到github page 
1git remote add origin github.com&#x2F;你的github名字&#x2F;你的github名字.github.io.git

新建hexo文件夹，打开git bash，一步步输入
12345678910&#x2F;&#x2F;初始化hexo init&#x2F;&#x2F;安装依赖npm install&#x2F;&#x2F;生成文件hexo g&#x2F;&#x2F;开启服务hexo s&#x2F;&#x2F;本地启动http:&#x2F;&#x2F;localhost:4000

大功告成，放个鞭炮庆祝下 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/18/%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/" title="什么是阻塞队列">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-39em6d.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是阻塞队列"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/18/%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/" title="什么是阻塞队列">什么是阻塞队列</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-18T15:31:18.000Z" title="发表于 2020-10-18 23:31:18">2020-10-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2020/10/18/%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2020/10/18/%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">阻塞队列public interface BlockingQueue extends Queue{…}
BlockingQueue 下面有 6 种最主要的实现，分别是 ArrayBlockingQueue、LinkedBlockingQueue、SynchronousQueue、DelayQueue、PriorityBlockingQueue 和 LinkedTransferQueue
take方法
获取并移除队列的头结点
一旦执行 take 方法的时候，队列里无数据，则阻塞，直到队列里有数据。一旦队列里有数据了，就会立刻解除阻塞状态，并且取到数据
pull方法
插入元素
如果队列已满，那么就无法继续插入，则阻塞，直到队列里有了空闲空间

无界队列 LinkedBlockingQueue 
有界队列 ArrayBlockingQueue 

BlockingQueue 中最常用的和添加、删除相关的 8 个方法
1、抛出异常：add、remove、element2、返回结果但不抛出异常：offer、poll、peek3、阻塞：put、take
add
往队列里添加一个元素，如果队列满了， ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/07/09/%E4%BB%80%E4%B9%88%E6%98%AFCAS%E5%8E%9F%E7%90%86/" title="什么是CAS">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-39em6d.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是CAS"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/09/%E4%BB%80%E4%B9%88%E6%98%AFCAS%E5%8E%9F%E7%90%86/" title="什么是CAS">什么是CAS</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-07-09T15:31:18.000Z" title="发表于 2020-07-09 23:31:18">2020-07-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">多线程</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%BA%90%E7%A0%81/">源码</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2020/07/09/%E4%BB%80%E4%B9%88%E6%98%AFCAS%E5%8E%9F%E7%90%86/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2020/07/09/%E4%BB%80%E4%B9%88%E6%98%AFCAS%E5%8E%9F%E7%90%86/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">CAS（ Compare-And-Swap）”比较并交换”（乐观锁的原理）CAS 的特点是避免使用互斥锁，当多个线程同时使用 CAS 更新同一个变量时，只有其中一个线程能够操作成功，而其他线程都会更新失败。更新失败的线程并不会被阻塞，而是被告知这次由于竞争而导致的操作失败，但还可以再次尝试。

CAS 的思路
CAS 相关的指令是具备原子性的
CAS 有三个操作数：内存值 V、预期值 A、要修改的值 B。
核心思路：仅当预期值 A 和当前的内存值 V 相同时，才将内存值修改为 B。
下面我们用图解和例子的方式，让 CAS 的过程变得更加清晰，如下图所示：

假设有两个线程，分别使用两个 CPU，它们都想利用 CAS 来改变右边的变量的值。我们先来看线程 1，它使用 CPU 1，假设它先执行，它期望当前的值是 100，并且想将其改成 150。在执行的时候，它会去检查当前的值是不是 100，发现真的是 100，所以可以改动成功，而当改完之后，右边的值就会从 100 变成 150。

如上图所示，假设现在才刚刚轮到线程 2 所使用的 CPU 2 来执行，它想要把这个值从 100 改成 200 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/07/09/%E4%BB%80%E4%B9%88%E6%98%AFRedis/" title="什么是Redis">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-57gyw9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是Redis"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/07/09/%E4%BB%80%E4%B9%88%E6%98%AFRedis/" title="什么是Redis">什么是Redis</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-07-09T15:31:18.000Z" title="发表于 2020-07-09 23:31:18">2020-07-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%BC%93%E5%AD%98/">缓存</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%BC%93%E5%AD%98/">缓存</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2020/07/09/%E4%BB%80%E4%B9%88%E6%98%AFRedis/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2020/07/09/%E4%BB%80%E4%B9%88%E6%98%AFRedis/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">Redis
redis 简介简单来说 redis 就是一个数据库，不过与传统数据库不同的是 redis 的数据是存在内存中的，所以读写速度非常快，因此 redis 被广泛应用于缓存方向。另外，redis 也经常用来做分布式锁。redis 提供了多种数据类型来支持不同的业务场景。除此之外，redis 支持事务 、持久化、LUA脚本、LRU驱动事件、多种集群方案。
为什么要用 redis/为什么要用缓存主要从“高性能”和“高并发”这两点来看待这个问题。
高性能：
假如用户第一次访问数据库中的某些数据。这个过程会比较慢，因为是从硬盘上读取的。将该用户访问的数据存在缓存中，这样下一次再访问这些数据的时候就可以直接从缓存中获取了。操作缓存就是直接操作内存，所以速度相当快。如果数据库中的对应数据改变的之后，同步改变缓存中相应的数据即可！

高并发：
直接操作缓存能够承受的请求是远远大于直接访问数据库的，所以我们可以考虑把数据库中的部分数据转移到缓存中去，这样用户的一部分请求会直接到缓存这里而不用经过数据库。

为什么要用 redis 而不用 map/guava 做缓存?缓存分为本地缓存和分布式缓存 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/3/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/#content-inner">5</a><a class="extend next" rel="next" href="/page/5/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/tx2.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">章志成</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://gitee.com/gump12138"><i class="fab fa-github"></i><span>关注我</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/cooper12138" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:994739211@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">延迟满足</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/04/15/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88/" title="虚拟机栈"><img src="https://zzc-sso.oss-cn-hangzhou.aliyuncs.com/bolg/JVM/src%3Dhttp___upload-images.jianshu.io_upload_images_15462057-05caf5645086f1cf.png%26refer%3Dhttp___upload-images.jianshu.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="虚拟机栈"/></a><div class="content"><a class="title" href="/2022/04/15/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88/" title="虚拟机栈">虚拟机栈</a><time datetime="2022-04-15T09:02:12.000Z" title="发表于 2022-04-15 17:02:12">2022-04-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/15/%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8/" title="程序计数器"><img src="https://zzc-sso.oss-cn-hangzhou.aliyuncs.com/bolg/JVM/src%3Dhttp___upload-images.jianshu.io_upload_images_15462057-05caf5645086f1cf.png%26refer%3Dhttp___upload-images.jianshu.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="程序计数器"/></a><div class="content"><a class="title" href="/2022/04/15/%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8/" title="程序计数器">程序计数器</a><time datetime="2022-04-15T09:02:12.000Z" title="发表于 2022-04-15 17:02:12">2022-04-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/15/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA%E6%A6%82%E8%BF%B0%E5%8F%8A%E7%BA%BF%E7%A8%8B/" title="运行时数据区概述及线程"><img src="https://zzc-sso.oss-cn-hangzhou.aliyuncs.com/bolg/JVM/src%3Dhttp___upload-images.jianshu.io_upload_images_15462057-05caf5645086f1cf.png%26refer%3Dhttp___upload-images.jianshu.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="运行时数据区概述及线程"/></a><div class="content"><a class="title" href="/2022/04/15/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA%E6%A6%82%E8%BF%B0%E5%8F%8A%E7%BA%BF%E7%A8%8B/" title="运行时数据区概述及线程">运行时数据区概述及线程</a><time datetime="2022-04-15T08:53:31.000Z" title="发表于 2022-04-15 16:53:31">2022-04-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/15/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%AD%90%E7%B3%BB%E7%BB%9F/" title="类加载子系统"><img src="https://zzc-sso.oss-cn-hangzhou.aliyuncs.com/bolg/JVM/src%3Dhttp___upload-images.jianshu.io_upload_images_15462057-05caf5645086f1cf.png%26refer%3Dhttp___upload-images.jianshu.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="类加载子系统"/></a><div class="content"><a class="title" href="/2022/04/15/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%AD%90%E7%B3%BB%E7%BB%9F/" title="类加载子系统">类加载子系统</a><time datetime="2022-04-15T07:17:31.000Z" title="发表于 2022-04-15 15:17:31">2022-04-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/11/%E6%89%8B%E5%86%99mybatis%E7%AC%AC%E4%B8%89%E7%AF%87/" title="手写mybatis第三篇"><img src="https://zzc-sso.oss-cn-hangzhou.aliyuncs.com/bolg/wallhaven-73zz29.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="手写mybatis第三篇"/></a><div class="content"><a class="title" href="/2022/04/11/%E6%89%8B%E5%86%99mybatis%E7%AC%AC%E4%B8%89%E7%AF%87/" title="手写mybatis第三篇">手写mybatis第三篇</a><time datetime="2022-04-11T03:39:41.000Z" title="发表于 2022-04-11 11:39:41">2022-04-11</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-bolt"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JVM/"><span class="card-category-list-name">JVM</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/mybatis/"><span class="card-category-list-name">mybatis</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/spring/"><span class="card-category-list-name">spring</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/springboot/"><span class="card-category-list-name">springboot</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/springmvc/"><span class="card-category-list-name">springmvc</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"><span class="card-category-list-name">分布式</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%8A%A0%E5%AF%86/"><span class="card-category-list-name">加密</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="card-category-list-name">多线程</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 1.33em; color: rgb(20, 59, 136)">工具</a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1.27em; color: rgb(48, 97, 164)">数据库</a><a href="/tags/java%E9%AB%98%E7%BA%A7/" style="font-size: 1.15em; color: rgb(73, 60, 94)">java高级</a><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1.45em; color: rgb(41, 200, 51)">分布式</a><a href="/tags/k8s/" style="font-size: 1.15em; color: rgb(79, 7, 126)">k8s</a><a href="/tags/spring%E6%BA%90%E7%A0%81/" style="font-size: 1.33em; color: rgb(15, 75, 11)">spring源码</a><a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 1.21em; color: rgb(39, 160, 29)">其他</a><a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 1.21em; color: rgb(28, 93, 154)">源码</a><a href="/tags/JVM/" style="font-size: 1.39em; color: rgb(54, 96, 41)">JVM</a><a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 1.21em; color: rgb(82, 106, 39)">微服务</a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.27em; color: rgb(183, 50, 117)">算法</a><a href="/tags/%E6%89%8B%E5%86%99mybatis%E6%BA%90%E7%A0%81/" style="font-size: 1.27em; color: rgb(164, 113, 32)">手写mybatis源码</a><a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 1.15em; color: rgb(143, 126, 141)">缓存</a><a href="/tags/springmvc/" style="font-size: 1.15em; color: rgb(98, 45, 62)">springmvc</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/10/"><span class="card-archive-list-date">十月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">三月 2021</span><span class="card-archive-list-count">12</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">47</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2020-01-04T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-05-15T10:36:51.436Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 章志成</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a  target="_blank" rel="noopener" href="http://hankz.cc/">一个cv大师</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(() => {
  function loadValine () {
    function initValine () {
      let initData = {
        el: '#vcomment',
        appId: 'rX8EGp1QDIbaOBer0HPXb4wr-gzGzoHsz',
        appKey: 'zYi2FKT3jfoRihSzwUQkzwd3',
      }
      
      const valine = new Valine(initData)
    }

    if (typeof Valine === 'function') initValine() 
    else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
  }

  window.pjax ? loadValine() : window.addEventListener('load', loadValine)
})()</script><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "Never put off till tomorrow what you can do today".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = 'N'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.17.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=monsterid'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://rX8EGp1Q.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'rX8EGp1QDIbaOBer0HPXb4wr-gzGzoHsz',
        "X-LC-Key": 'zYi2FKT3jfoRihSzwUQkzwd3',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="84943176" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-autoplay="false" data-theme="#2980b9" data-loop="all" data-order="random" data-preload="auto" data-volume="0.4" data-mutex="true" data-listFolded="true" data-listmaxheight="340px" data-storagename="metingjs" muted></div><div class="aplayer no-destroy" data-id="https://music.163.com/playlist?id=84943176&userid=77272308" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-autoplay="true" data-theme="#2980b9" data-loop="all" data-order="random" data-preload="auto" data-volume="0.4" data-mutex="true" data-listFolded="true" data-listmaxheight="340px" data-storagename="metingjs" muted></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><script>(function(d, w, c) {
    w.ChatraID = 'K3d9XytKCJ4u5JfPd';
    var s = d.createElement('script');
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments);
    };
    s.async = true;
    s.src = 'https://call.chatra.io/chatra.js';
    if (d.head) d.head.appendChild(s);
})(document, window, 'Chatra');

if (true) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      Chatra('openChat')
    });
  }
  chatBtnFn()
} else {
  if (true) {
    function chatBtnHide () {
      Chatra('hide')
    }
    function chatBtnShow () {
      Chatra('show')
    }
  }
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>