<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>不学习会被杀掉的</title><meta name="author" content="gump"><meta name="copyright" content="gump"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="不学习会被杀掉的">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="不学习会被杀掉的">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/tx.jpg">
<meta property="article:author" content="gump">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/tx.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/page/3/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-01-05 20:57:54'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/tx.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://s2.loli.net/2022/01/04/miyHDJcY6S9Nqk7.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">不学习会被杀掉的</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">不学习会被杀掉的</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/cooper12138" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:994739211@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/28/%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" title="什么是数据结构与算法">     <img class="post_bg" src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pj33.png?Expires=1641308875&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=luRHPcUFRaFvRoCbQ4H8nQ6uYuk%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是数据结构与算法"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/28/%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" title="什么是数据结构与算法">什么是数据结构与算法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-28T14:45:41.000Z" title="发表于 2021-02-28 22:45:41">2021-02-28</time></span></div><div class="content">数组与链表的应用数组的内存模型1int[] data &#x3D; new int[5];

通过上面这段声明，计算机会在内存中分配一段连续的内存空间给这个 data 数组。


获取数组元素的方式是按照以下的公式进行获取的：
1base_address + index（索引）× data_size（数据类型大小）

data 这个数组被分配到的起始地址是 0x80000000，是因为 int 类型数据占据了 4 个字节的空间，如果我们要访问第 5 个元素 data[4] 的时候，按照上面的公式，只需要取得 0x80000000 + 4 × 4 = 0x80000010 这个地址的内容就可以了。随机访问的背后原理其实也就是利用了这个公式达到了同等的时间访问到一组数据中的任意元素。
12345678public void add(int index, E element) &#123;    ...    System.arraycopy(elementData, index,                     elementData, index + 1,             ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/24/%E6%B6%88%E6%81%AF%E6%8A%95%E9%80%92%EF%BC%8C%E5%B9%82%E7%AD%89/" title="什么是消息投递，幂等">     <img class="post_bg" src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-6oj73l.jpg?Expires=1641308721&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=EKTKHB1zNERL8X8phIBdDRN6LmQ%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是消息投递，幂等"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/24/%E6%B6%88%E6%81%AF%E6%8A%95%E9%80%92%EF%BC%8C%E5%B9%82%E7%AD%89/" title="什么是消息投递，幂等">什么是消息投递，幂等</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-24T01:59:16.000Z" title="发表于 2021-02-24 09:59:16">2021-02-24</time></span></div><div class="content">前言我们小伙伴应该都听说够消息中间件MQ，如：RabbitMQ，RocketMQ，Kafka等。引入中间件的好处可以起到抗高并发，削峰，业务解耦的作用。

如上图：

（1）订单服务投递消息给MQ中间件 （2）物流服务监听MQ中间件消息，从而进行消费

我们这篇文章讨论一下，如何保障订单服务把消息成功投递给MQ中间件，以RabbitMQ举例。
分析问题小伙伴们对此会有些疑问，订单服务发起消息服务，返回成功不就成功了吗？如下面的伪代码：

上面代码中，一般发送消息就是这么写的，小伙伴们觉得有什么问题吗？
下边说一个场景，如果MQ服务器突然宕机了会出现什么情况？是不是我们订单服务发过去的消息全部没有了吗？是的，一般MQ中间件为了提高系统的吞吐量会把消息保存在内存中，如果不作其他处理，MQ服务器一旦宕机，消息将全部丢失。这个是业务不允许的，造成很大的影响，关注公众号码猿技术专栏，获取更多面试资源。
持久化有经验的小伙伴会说，我知道一个方法就是把消息持久化，RabbitMQ中发消息的时候会有个durable参数可以设置，设置为true，就会持久化。

这样的话MQ服务器即使宕机，重启后磁盘文件 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/31/Java%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="Java性能优化">     <img class="post_bg" src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pe8v.jpg?Expires=1641308824&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=YHOZLh31tBI9nKDDS0DZhRLXOAA%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能优化"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/31/Java%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="Java性能优化">Java性能优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-31T08:44:02.000Z" title="发表于 2021-01-31 16:44:02">2021-01-31</time></span></div><div class="content">性能优化，有哪些衡量指标？需要注意什么？性能，就是使用有限的资源在有限的时间内完成工作。最主要的衡量因素就是时间。

吞吐量和响应速度QPS 代表每秒查询的数量，TPS 代表每秒事务的数量，HPS 代表每秒的 HTTP 请求数量等，这都是常用的与吞吐量相关的量化指标。
响应时间衡量平均响应时间：AVG  所有的请求耗时加起来，然后除以请求的次数。
百分位数：TP 值  和中位数、平均数等是类似的
并发量指系统同时能处理的请求数量，这个指标反映了系统的负载能力。

复用优化缓冲和缓存
缓冲（Buffer），常见于对数据的暂存，然后批量传输或者写入。多使用顺序方式，用来缓解不同设备之间频繁地、缓慢地随机写，缓冲主要针对的是写操作。
缓存（Cache），常见于对已读取数据的复用，通过将它们缓存在相对高速的区域，缓存主要针对的是读操作。
对于对象的池化操作 ，比如数据库连接池、线程池等。由于这些对象的创建和销毁成本都比较大，我们在使用之后，也会将这部分对象暂时存储，下次用的时候，就不用再走一遍耗时的初始化操作了。
计算优化</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/18/%E4%BB%80%E4%B9%88%E6%98%AFELK%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F/" title="什么是ELK日志系统">     <img class="post_bg" src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-5736e3.jpg?Expires=1641308658&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=xmT8wgBgY2Wrf5iwGCLr9kg8fhU%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是ELK日志系统"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/18/%E4%BB%80%E4%B9%88%E6%98%AFELK%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F/" title="什么是ELK日志系统">什么是ELK日志系统</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-18T14:22:17.000Z" title="发表于 2021-01-18 22:22:17">2021-01-18</time></span></div><div class="content">ELKElasticsearch、Logstash 和 Kiabana组成一个日志分析平台 。
Elasticsearch分布式的 Restful 风格的搜索和数据分析引擎。
Logstash收集服务器日志，具有实时管道功能，可以动态地将来自不同数据源的数据统一起来，并将数据标准化到您所选择的目的地。

输入
过滤器
输出

Kibana数据面板。
ELK工作流程

ELK 平台搭建Elasticsearch安装
下载Elasticsearch 7.6.2的docker镜像：

1docker pull elasticsearch:7.6.2


修改虚拟内存区域大小，否则会因为过小而无法启动:

1sysctl -w vm.max_map_count=262144


使用如下命令启动Elasticsearch服务：

123456docker run -p 9200:9200 -p 9300:9300 --name elasticsearch \-e &quot;discovery.type=single-node&quot; \-e &quot;cluster.name=elas ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/11/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/" title="深入理解java虚拟机">     <img class="post_bg" src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pj33.png?Expires=1641308875&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=luRHPcUFRaFvRoCbQ4H8nQ6uYuk%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="深入理解java虚拟机"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/11/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA/" title="深入理解java虚拟机">深入理解java虚拟机</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-11T14:31:05.000Z" title="发表于 2021-01-11 22:31:05">2021-01-11</time></span></div><div class="content">JVM内存管理JVM 内存布局

JVM 堆中的数据是共享的，是占用内存最大的一块区域。


可以执行字节码的模块叫作执行引擎。


执行引擎在线程切换时怎么恢复？依靠的就是程序计数器。


JVM 的内存划分与多线程是息息相关的。像我们程序中运行时用到的栈，以及本地方法栈，它们的维度都是线程。


本地内存包含元数据区和一些直接内存。

虚拟机栈在每个 Java 方法被调用的时候，都会创建一个栈帧，并入栈。
一旦完成相应的调用，则出栈。所有的栈帧都出栈后，线程也就结束了。每个栈帧，都包含四个区域：

局部变量表


操作数栈


动态连接


返回地址

本地方法栈是和虚拟机栈非常相似的一个区域，它服务的对象是 native 方法。
程序计数器存的，就是当前线程执行的进度
还存储了当前正在运行的流程，包括正在执行的指令、跳转、分支、循环、异常处理等。
堆是 JVM 上最大的内存区域
存储对象
垃圾回收，操作的对象就是堆。
随着对象的频繁创建，堆空间占用的越来越多，就需要不定期的对不再使用的对象进行回收。这个在 Java 中，就叫作 GC（Garbage Collection）
对象创 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/01/08/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87idea%E6%93%8D%E4%BD%9C/" title="开发必备idea操作">     <img class="post_bg" src="http://hankz.oss-cn-hangzhou.aliyuncs.com/one.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="开发必备idea操作"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/08/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87idea%E6%93%8D%E4%BD%9C/" title="开发必备idea操作">开发必备idea操作</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-08T01:52:16.000Z" title="发表于 2021-01-08 09:52:16">2021-01-08</time></span></div><div class="content">idea神操作Ctrl


快捷键
介绍



Ctrl + Y
删除光标所在行 或 删除选中的行 （必备）


Ctrl + D
复制光标所在行 或 复制选择内容，并把复制内容插入光标位置下面 （必备）


Ctrl + W
递进式选择代码块。可选中光标所在的单词或段落，连续按会在原有选中的基础上再扩展选中范围 （必备）


Ctrl + E
显示最近打开的文件记录列表


Ctrl + N
根据输入的 类名 查找类文件


Ctrl + Q
光标所在的变量 / 类名 / 方法名等上面（也可以在提示补充的时候按），显示文档内容


Ctrl + U
前往当前光标所在的方法的父类的方法 / 接口定义


Ctrl + B
进入光标所在的方法/变量的接口或是定义出，等效于 Ctrl + 左键单击


Ctrl + K
版本控制提交项目，需要此项目有加入到版本控制才可用


Ctrl + T
版本控制更新项目，需要此项目有加入到版本控制才可用


Ctrl + H
显示当前类的层次结构


Ctrl + O
选择可重写的方法


Ctrl + I
选择可继承的方法


Ctrl + +
展 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/01/07/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87linux%E5%91%BD%E4%BB%A4/" title="开发必备linux命令">     <img class="post_bg" src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pj33.png?Expires=1641308875&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=luRHPcUFRaFvRoCbQ4H8nQ6uYuk%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="开发必备linux命令"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/01/07/%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87linux%E5%91%BD%E4%BB%A4/" title="开发必备linux命令">开发必备linux命令</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-01-07T13:04:50.000Z" title="发表于 2021-01-07 21:04:50">2021-01-07</time></span></div><div class="content">常用命令(含docker/mysql)
find   

ls   ls -lh： 显示MB ，ls -ltr：  按时间升序，ls -F：  显示文件类型

pwd

cd

mkdir   mkdir -p: 创建路径文件夹

df         df -h：显示磁盘使用量

rm        rm -r ：遍历删除

mv       

cp           拷贝

scp         传输                           scp -r  /usr/bak   &#x72;&#x6f;&#111;&#x74;&#64;&#49;&#57;&#x32;&#46;&#x31;&#x36;&#56;&#46;&#x37;&#55;&#x2e;&#x37;&#53;:/opt/bak

rsync      快一点的传输           rsync  -avzP  /usr/bak   &#114;&#x6f;&#111;&#x74;&#64;&#49;&#57;&#50;&#x2e;&#49;&#x36;&#x38;&#46;&#x37;&#55; ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/12/14/Transactional%E5%A4%B1%E6%95%88%E5%9C%BA%E6%99%AF/" title="Transactional失效场景">     <img class="post_bg" src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pj33.png?Expires=1641308875&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=luRHPcUFRaFvRoCbQ4H8nQ6uYuk%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Transactional失效场景"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/14/Transactional%E5%A4%B1%E6%95%88%E5%9C%BA%E6%99%AF/" title="Transactional失效场景">Transactional失效场景</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-12-14T11:27:42.000Z" title="发表于 2020-12-14 19:27:42">2020-12-14</time></span></div><div class="content">@Transactional 注解
它能保证方法内多个数据库操作要么同时成功、要么同时失败。
一、事务主要分为编程式事务和声明式事务两种。
编程式事务：是指在代码中手动的管理事务的提交、回滚等操作，代码侵入性比较强，如下示例：
1234567try &#123;    &#x2F;&#x2F;TODO something     transactionManager.commit(status);&#125; catch (Exception e) &#123;    transactionManager.rollback(status);    thrownew InvoiceApplyException(&quot;异常失败&quot;);&#125;

声明式事务：基于AOP面向切面的，它将具体业务与事务处理部分解耦，代码侵入性很低，所以在实际开发中声明式事务用的比较多。声明式事务也有两种实现方式，一是基于TX和AOP的xml配置文件方式，二种就是基于@Transactional 注解了。
123456@Transactional    @GetMapping(&quot;&#x ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/27/hexo%E6%90%AD%E5%BB%BA/" title="hexo搭建">     <img class="post_bg" src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-722dqy.jpg?Expires=1641308796&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=KEu9L9aI4hRV0emw4ib9jTS8sMQ%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo搭建"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/hexo%E6%90%AD%E5%BB%BA/" title="hexo搭建">hexo搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T15:31:18.000Z" title="发表于 2020-11-27 23:31:18">2020-11-27</time></span></div><div class="content">Hexo搭建
1、安装Node.js 官网：https://nodejs.org/zh-cn/
​    建议使用 Node.js 10.0 及以上版本，最新版本貌似和hexo5有冲突。
​    一路next傻瓜操作
2、安装hexocmd输入
1npm install -g hexo-cli

3、建站Github Page配置参见官网：https://pages.github.com/
记得本地hexo仓库要关联到github page 
1git remote add origin github.com&#x2F;你的github名字&#x2F;你的github名字.github.io.git

新建hexo文件夹，打开git bash，一步步输入
12345678910&#x2F;&#x2F;初始化hexo init&#x2F;&#x2F;安装依赖npm install&#x2F;&#x2F;生成文件hexo g&#x2F;&#x2F;开启服务hexo s&#x2F;&#x2F;本地启动http:&#x2F;&#x2F;localhost:4000

大功告成，放个鞭炮庆祝下 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/18/%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/" title="什么是阻塞队列">     <img class="post_bg" src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pj33.png?Expires=1641308875&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=luRHPcUFRaFvRoCbQ4H8nQ6uYuk%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是阻塞队列"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/18/%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/" title="什么是阻塞队列">什么是阻塞队列</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-18T15:31:18.000Z" title="发表于 2020-10-18 23:31:18">2020-10-18</time></span></div><div class="content">阻塞队列public interface BlockingQueue extends Queue{…}
BlockingQueue 下面有 6 种最主要的实现，分别是 ArrayBlockingQueue、LinkedBlockingQueue、SynchronousQueue、DelayQueue、PriorityBlockingQueue 和 LinkedTransferQueue
take方法
获取并移除队列的头结点
一旦执行 take 方法的时候，队列里无数据，则阻塞，直到队列里有数据。一旦队列里有数据了，就会立刻解除阻塞状态，并且取到数据
pull方法
插入元素
如果队列已满，那么就无法继续插入，则阻塞，直到队列里有了空闲空间

无界队列 LinkedBlockingQueue 
有界队列 ArrayBlockingQueue 

BlockingQueue 中最常用的和添加、删除相关的 8 个方法
1、抛出异常：add、remove、element2、返回结果但不抛出异常：offer、poll、peek3、阻塞：put、take
add
往队列里添加一个元素，如果队列满了， ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/#content-inner">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/4/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/tx.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">gump</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://gitee.com/gump12138"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/cooper12138" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:994739211@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">雄关漫道真如铁，而今迈步从头越。</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/10/07/%E4%BB%80%E4%B9%88%E6%98%AFService-Mesh/" title="什么是Service-Mesh"><img src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pj33.png?Expires=1641308875&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=luRHPcUFRaFvRoCbQ4H8nQ6uYuk%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是Service-Mesh"/></a><div class="content"><a class="title" href="/2021/10/07/%E4%BB%80%E4%B9%88%E6%98%AFService-Mesh/" title="什么是Service-Mesh">什么是Service-Mesh</a><time datetime="2021-10-07T14:45:19.000Z" title="发表于 2021-10-07 22:45:19">2021-10-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/28/web%E5%AE%89%E5%85%A8/" title="web安全"><img src="http://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-13yvpw.png?Expires=1641312602&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=NX1k2ArsT7YggIxIi53h99GyOlo%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="web安全"/></a><div class="content"><a class="title" href="/2021/09/28/web%E5%AE%89%E5%85%A8/" title="web安全">web安全</a><time datetime="2021-09-28T14:12:27.000Z" title="发表于 2021-09-28 22:12:27">2021-09-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/14/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分布式数据库"><img src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pj33.png?Expires=1641308875&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=luRHPcUFRaFvRoCbQ4H8nQ6uYuk%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="分布式数据库"/></a><div class="content"><a class="title" href="/2021/08/14/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分布式数据库">分布式数据库</a><time datetime="2021-08-14T13:47:38.000Z" title="发表于 2021-08-14 21:47:38">2021-08-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/12/redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E4%B8%80/" title="redis设计与实现一"><img src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pe8v.jpg?Expires=1641308824&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=YHOZLh31tBI9nKDDS0DZhRLXOAA%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="redis设计与实现一"/></a><div class="content"><a class="title" href="/2021/07/12/redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E4%B8%80/" title="redis设计与实现一">redis设计与实现一</a><time datetime="2021-07-12T15:31:18.000Z" title="发表于 2021-07-12 23:31:18">2021-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/08/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1Seata/" title="分布式事务Seata"><img src="https://hankz.oss-cn-hangzhou.aliyuncs.com/wallhaven-72pj33.png?Expires=1641308875&amp;OSSAccessKeyId=TMP.3KezPLhgmhn5znKjfTswsQii51wqNh9j8FW7rD2EafTevRAynvHr1K8PgEYNBXhWA58vnA4cvNymqv6S6Bzg7bZAntCVvZ&amp;Signature=luRHPcUFRaFvRoCbQ4H8nQ6uYuk%3D" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="分布式事务Seata"/></a><div class="content"><a class="title" href="/2021/07/08/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1Seata/" title="分布式事务Seata">分布式事务Seata</a><time datetime="2021-07-08T15:14:25.000Z" title="发表于 2021-07-08 23:14:25">2021-07-08</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/JVM/" style="font-size: 1.18em; color: #999ca1">JVM</a> <a href="/tags/java%E9%AB%98%E7%BA%A7/" style="font-size: 1.1em; color: #999">java高级</a> <a href="/tags/k8s/" style="font-size: 1.1em; color: #999">k8s</a> <a href="/tags/spring%E6%BA%90%E7%A0%81/" style="font-size: 1.42em; color: #99a6b7">spring源码</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 1.18em; color: #999ca1">其他</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1.5em; color: #99a9bf">分布式</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 1.34em; color: #99a3b0">工具</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 1.18em; color: #999ca1">微服务</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1.26em; color: #999fa8">数据库</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 1.18em; color: #999ca1">源码</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.26em; color: #999fa8">算法</a> <a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 1.1em; color: #999">缓存</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/10/"><span class="card-archive-list-date">十月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">三月 2021</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">39</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-01-05T12:57:54.626Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By gump</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="84943176" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-autoplay="false" data-theme="#2980b9" data-loop="all" data-order="random" data-preload="auto" data-volume="0.4" data-mutex="true" data-listFolded="true" data-listmaxheight="340px" data-storagename="metingjs" muted></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>